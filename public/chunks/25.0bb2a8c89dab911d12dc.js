webpackJsonp([25],{208:function(t,e,r){"use strict";var s={props:["wrapperBg","isUserLogin"],data:function(){return{errors:{categorySelected:"",sub_category_id:"",requirement_amount:"",name:""},currentUser:{profile:"",user_info:""},buyAd:{name:"",requirement_amount:"",sub_category_id:"",category_id:""},buyAdFields:["name","requirement_amount","sub_category_id"],categorySelected:"",categoryList:"",subCategoryList:"",selectedSubCategory:"",subCategoryName:"محصول",cities:"",buyAdFiles:[],popUpMsg:"",profileConfirmed:!1,disableSubmit:!1,submiting:!1,relatedProducts:null,requirement_amount_text:"",categoryName:"میوه",items:[{message:" ثبت درخواست جدید",url:"registerRequest"}]}},methods:{init:function(){var t=this;axios.post("/user/profile_info").then(function(e){return t.currentUser=e.data}),axios.post("/get_category_list").then(function(e){return t.categoryList=e.data.categories})},loadSubCategoryList:function(t){var e=this,r=t.id;axios.post("/get_category_list",{parent_id:r}).then(function(t){return e.subCategoryList=t.data.categories})},formValidator:function(){this.categorySelected||(this.errors.categorySelected="دسته بندی الزامی است"),this.buyAd.sub_category_id||(this.errors.sub_category_id="نام محصول الزامی است"),this.requirementAmountValidator(this.buyAd.requirement_amount),this.errors.categorySelected||this.errors.sub_category_id||this.errors.name||this.errors.requirement_amount||this.submitBuyAd()},submitBuyAd:function(){this.errors="";this.buyAd.category_id=this.categorySelected.id,window.localStorage.setItem("buyAd",JSON.stringify(this.buyAd)),this.isUserLogin?window.location.href="/buyer/register-request":this.$router.push("/register")},setCategoryId:function(t){this.errors.sub_category_id="",this.buyAd.sub_category_id=t.id},setCityId:function(t){this.buyAd.city_id=t},toLatinNumbers:function(t){return null==t?null:(t=(t=(t=(t=t.toString().replace(/,/g,"")).toString().replace(/^0+/,"")).toString().replace(/^\u0660+/,"")).toString().replace(/^\u06f0+/,"")).toString().replace(/[\u0660-\u0669]/g,function(t){return t.charCodeAt(0)-1632}).replace(/[\u06f0-\u06f9]/g,function(t){return t.charCodeAt(0)-1776})},registerComponentStatistics:function(t,e,r){gtag("event",e,{event_category:t,event_label:r})},registerComponentExceptions:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];gtag("event","exception",{description:t,fatal:e})},isOsIOS:function(){var t=window.navigator.userAgent.toLowerCase();/safari/.test(t);return/iphone|ipod|ipad/.test(t)},scrollToTop:function(){window.scrollTo(0,0)},requirementAmountValidator:function(t){this.errors.requirement_amount="";var e=this.toLatinNumbers(t);""==e?this.errors.requirement_amount="فیلد میزان نیازمندی الزامی است":this.validateRegx(e,/^\d*$/)||(this.errors.requirement_amount="فقط عدد وارد کنید")},validateRegx:function(t,e){return e.test(t)},convertUnits:function(t){var e=t/1e3;if(t<1e3)return t+" کیلوگرم";var r=e.toString().split(".")[0],s=t.toString().substr(r.length);return s=s.replace(/^0+/,""),r=this.getNumberWithCommas(r),r+=" تن",s?r+(s=" و "+s+" کیلوگرم"):r},getNumberWithCommas:function(t){return t||"number"==typeof t?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):""},productNameValidator:function(t){this.validateRegx(t,/^[\u0600-\u06FF\s_,.:/;()+-\d]+$/)||(this.errors.name="لطفا نوع محصول را فارسی وارد کنید.")}},mounted:function(){this.isOsIOS()&&$('input[type="tel"]').attr("type","text"),this.init()},watch:{categorySelected:function(t){this.categoryName=t.category_name,this.loadSubCategoryList(t),this.errors.categorySelected=""},selectedSubCategory:function(t){this.subCategoryName=t.category_name,this.setCategoryId(t)},"buyAd.sub_category_id":function(){this.errors.sub_category_id=""},"buyAd.requirement_amount":function(t){if(this.errors.requirement_amount="",t){t.length>=13&&(this.buyAd.requirement_amount=t.substring(0,13));var e=this.toLatinNumbers(this.buyAd.requirement_amount);this.validateRegx(e,/^\d*$/)||(this.errors.requirement_amount="لطفا  فقط عدد وارد کنید"),this.errors.requirement_amount||(this.buyAd.requirement_amount=this.getNumberWithCommas(e),this.requirement_amount_text=this.convertUnits(e))}else this.requirement_amount_text=""},"buyAd.name":function(t){this.errors.name="",t&&this.productNameValidator(t)}}},a=r(2);var i=function(t){r(209)},o=Object(a.a)(s,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"section-wrapper col-xs-12"},[r("div",{staticClass:"row"},[r("div",{staticClass:"text-right col-xs-12 form-contents-wrapper",class:{"wrapper-bg":t.wrapperBg}},[r("div",{staticClass:"form-wrapper"},[r("div",{staticClass:"section-title"},[t._v("ثبت درخواست خرید")]),t._v(" "),r("div",{staticClass:"form-contents col-xs-12"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-xs-12 col-md-6 pull-right"},[t._m(0),t._v(" "),r("label",{staticClass:"description",attrs:{for:"category"}},[t._v(" مثلا: میوه ")]),t._v(" "),r("div",{staticClass:"input-wrapper select-items"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.categorySelected,expression:"categorySelected"}],class:{active:t.categorySelected,error:t.errors.categorySelected},attrs:{id:"category"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.categorySelected=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"",selected:"",disabled:""}},[t._v("انتخاب دسته بندی")]),t._v(" "),t._l(t.categoryList,function(e,s){return r("option",{key:s,domProps:{value:e,textContent:t._s(e.category_name)}})})],2)]),t._v(" "),r("p",{staticClass:"error-message"},[t.errors.categorySelected?r("span",{domProps:{textContent:t._s(t.errors.categorySelected)}}):t._e()])]),t._v(" "),r("div",{staticClass:"col-xs-12 col-md-6"},[t._m(1),t._v(" "),r("label",{staticClass:"description",attrs:{for:"sub-category"}},[t._v("\n                مثلا: خرما\n              ")]),t._v(" "),r("div",{staticClass:"input-wrapper select-items"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedSubCategory,expression:"selectedSubCategory"}],class:{active:t.buyAd.sub_category_id,error:t.errors.sub_category_id},attrs:{id:"sub-category"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedSubCategory=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("\n                    انتخاب زیر دسته بندی\n                  ")]),t._v(" "),t._l(t.subCategoryList,function(e,s){return r("option",{key:s,domProps:{value:e,textContent:t._s(e.category_name)}})})],2)]),t._v(" "),r("p",{staticClass:"error-message"},[t.errors.sub_category_id?r("span",{domProps:{textContent:t._s(t.errors.sub_category_id)}}):t._e()])]),t._v(" "),r("div",{staticClass:"col-xs-12 col-md-6 pull-right"},[r("h2",{staticClass:"title-contents col-xs-12"},[t._v("\n                نوع\n                "),r("span",{staticClass:"light-green-text",domProps:{textContent:t._s(" "+t.subCategoryName+" ")}}),t._v("\n                مورد نیاز خود را وارد کنید.\n              ")]),t._v(" "),r("label",{staticClass:"description",attrs:{for:"product-type"}},["میوه"==t.categoryName?r("span",[t._v(" مثلا: مضافتی ")]):"صیفی"==t.categoryName?r("span",[t._v("\n                  مثلا: بذر متین صادراتی\n                ")]):"غلات"==t.categoryName?r("span",[t._v("\n                  مثلا: هندی ۱۱۲۱\n                ")]):"خشکبار"==t.categoryName?r("span",[t._v("\n                  مثلا: فندقی\n                ")]):"ادویه"==t.categoryName?r("span",[t._v(" مثلا: نگین ")]):"دامپروری"==t.categoryName?r("span",[t._v("\n                  مثلا: چهل گیاه\n                ")]):"حبوبات"==t.categoryName?r("span",[t._v(" مثلا: چیتی ")]):r("span",[t._v(" مثلا: مضافتی")])]),t._v(" "),r("div",{staticClass:"text-input-wrapper"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.buyAd.name,expression:"buyAd.name"}],class:{active:t.buyAd.name,error:t.errors.name},attrs:{id:"product-type",type:"text",placeholder:"نوع محصول مورد نیاز خود را وارد کنید"},domProps:{value:t.buyAd.name},on:{input:function(e){e.target.composing||t.$set(t.buyAd,"name",e.target.value)}}}),t._v(" "),t.buyAd.name&&!t.errors.name?r("i",{staticClass:"fa fa-check-circle"}):t.errors.name?r("i",{staticClass:"fa fa-times-circle"}):r("i",{staticClass:"fa fa-edit"})]),t._v(" "),r("div",{staticClass:"input-text-wrapper"},[r("p",{staticClass:"error-message"},[t.errors.name?r("span",{staticClass:"red-text",domProps:{textContent:t._s(t.errors.name)}}):t._e()])])]),t._v(" "),r("div",{staticClass:"col-xs-12 col-md-6"},[t._m(2),t._v(" "),r("label",{staticClass:"description",attrs:{for:"requirement_amount"}},[t._v("\n                مثلا: 50,000\n              ")]),t._v(" "),r("div",{staticClass:"text-input-wrapper"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.buyAd.requirement_amount,expression:"buyAd.requirement_amount"}],class:{active:t.buyAd.requirement_amount,error:t.errors.requirement_amount},attrs:{id:"requirement_amount",type:"tel",placeholder:"میزان نیازمندی را وارد کنید",pattern:"[0-9]*"},domProps:{value:t.buyAd.requirement_amount},on:{input:function(e){e.target.composing||t.$set(t.buyAd,"requirement_amount",e.target.value)}}}),t._v(" "),t.buyAd.requirement_amount&&!t.errors.requirement_amount?r("i",{staticClass:"fa fa-check-circle"}):t.errors.requirement_amount?r("i",{staticClass:"fa fa-times-circle"}):r("i",{staticClass:"fa fa-edit"})]),t._v(" "),r("div",{staticClass:"input-text-wrapper"},[t.errors.requirement_amount?t._e():r("p",{staticClass:"small-description-text"},[t.requirement_amount_text?r("span",{staticClass:"blue-text",domProps:{textContent:t._s(t.requirement_amount_text)}}):t._e()]),t._v(" "),r("p",{staticClass:"error-message"},[t.errors.requirement_amount?r("span",{staticClass:"red-text",domProps:{textContent:t._s(t.errors.requirement_amount)}}):t._e()])])])]),t._v(" "),r("div",{staticClass:"submit-button-wrapper col-xs-12"},[r("div",{staticClass:"row"},[r("button",{staticClass:"submit-button disabled",class:{active:t.buyAd.sub_category_id&&t.buyAd.requirement_amount&&!t.errors.requirement_amount},on:{click:function(e){e.preventDefault(),t.formValidator()}}},[t._v("\n                ثبت درخواست\n                "),r("i",{staticClass:"fa fa-check"})])])])])])])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{staticClass:"title-contents col-xs-12"},[this._v("\n                دسته بندی محصول\n                "),e("span",{staticClass:"red-text"},[this._v(" * ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{staticClass:"title-contents col-xs-12"},[this._v("\n                نام محصول\n\n                "),e("span",{staticClass:"red-text"},[this._v(" * ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{staticClass:"title-contents col-xs-12"},[this._v("\n                میزان نیازمندی\n\n                "),e("span",{staticClass:"small-label"},[this._v("(کیلوگرم)")]),this._v(" "),e("span",{staticClass:"red-text"},[this._v(" * ")])])}],!1,i,"data-v-ec6cc5a6",null);e.a=o.exports},209:function(t,e,r){var s=r(210);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,r(1).default)("33e8a025",s,!0,{})},210:function(t,e){throw new Error("Module build failed: SyntaxError: Invalid regular expression: /[\\w-/.:]+(?<!:)/: Invalid group\n    at defaultExtractor (/Users/apple/Desktop/buskool/incobac-new-cli/node_modules/postcss-purgecss-laravel/src/defaultConfig.js:13:44)\n    at b (/Users/apple/Desktop/buskool/incobac-new-cli/node_modules/purgecss/lib/purgecss.js:1:3579)\n    at R.extractSelectorsFromFiles (/Users/apple/Desktop/buskool/incobac-new-cli/node_modules/purgecss/lib/purgecss.js:1:5733)\n    at <anonymous>")},442:function(t,e,r){var s=r(443);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);(0,r(1).default)("eb1e9ef8",s,!0,{})},443:function(t,e){throw new Error("Module build failed: SyntaxError: Invalid regular expression: /[\\w-/.:]+(?<!:)/: Invalid group\n    at defaultExtractor (/Users/apple/Desktop/buskool/incobac-new-cli/node_modules/postcss-purgecss-laravel/src/defaultConfig.js:13:44)\n    at b (/Users/apple/Desktop/buskool/incobac-new-cli/node_modules/purgecss/lib/purgecss.js:1:3579)\n    at R.extractSelectorsFromFiles (/Users/apple/Desktop/buskool/incobac-new-cli/node_modules/purgecss/lib/purgecss.js:1:5733)\n    at <anonymous>")},523:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={components:{mainRegisterRequestForm:r(208).a}},a=r(2);var i=function(t){r(442)},o=Object(a.a)(s,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main-content-index-pages"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[this._m(0),this._v(" "),e("div",{staticClass:"main-request-content"},[e("main-register-request-form",{attrs:{"wrapper-bg":"true"}})],1)])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header-request wrapper-bg text-center col-xs-12"},[e("h2",[this._v("ثبت درخواست خرید")]),this._v(" "),e("p",[this._v("برای ثبت درخواست خرید فرم زیر را کامل کنید")])])}],!1,i,"data-v-140bfd40",null);e.default=o.exports}});