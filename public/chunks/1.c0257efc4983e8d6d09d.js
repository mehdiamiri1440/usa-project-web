webpackJsonp([1,2],{346:function(t,e){t.exports="/images/empty-message.svg?de5572e9650b06d1981ac6d77f76f741"},361:function(t,e,a){var i=a(362);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(4)("03e0e9eb",i,!0,{})},362:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".contact-body .contact-search[data-v-4ac23d9e]{background:#f0f0f0;position:absolute;left:0;right:0;z-index:2}.contact-wrapper .contact-body[data-v-4ac23d9e]::-webkit-scrollbar{display:none}.contact-wrapper .contact-body[data-v-4ac23d9e]{-ms-overflow-style:none;scrollbar-width:none}.contact-items[data-v-4ac23d9e]{padding-top:80px}.contact-items.is-buyer-list[data-v-4ac23d9e]{padding-top:60px}.contact-body .contact-search .contact-search-input-wrapper[data-v-4ac23d9e]{position:relative;padding:10px 7px}.contact-body .contact-search .contact-search-input-wrapper>i[data-v-4ac23d9e]{position:absolute;right:20px;font-size:16px;color:#919191;top:17px}.contact-body .contact-search .contact-search-input-wrapper input[data-v-4ac23d9e]{padding:3px 40px 3px 15px;border-radius:50px;background:#fff;border:none}.contact-body .contact-search .contact-search-input-wrapper>button[data-v-4ac23d9e]{position:absolute;left:7px;font-size:16px;color:#919191;top:8px;background:none;border:none;padding:7px 15px 1px}.contact-body .contact-image[data-v-4ac23d9e]{width:45px;height:45px;float:right;border-radius:50px;overflow:hidden;border:1px solid #f2f2f2;position:relative}.contact-body .contact-image img[data-v-4ac23d9e]{position:absolute;left:50%;top:50%;height:100%;width:auto;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.contact-body .contact-item a[data-v-4ac23d9e]{font-size:13px;color:#666;overflow:hidden;padding:10px 7px;border-bottom:1px solid #ededed;display:block;-webkit-transition:.2s;transition:.2s;border-left:2px solid #fff}.contact-body .contact-item a.active[data-v-4ac23d9e],.contact-body .contact-item a[data-v-4ac23d9e]:hover{background:#fafafa;-webkit-transition:.2s;transition:.2s;border-left:2px solid #00c569}.contact-body .contact-item:last-of-type a[data-v-4ac23d9e]{border-bottom:none}.contact-body .contact-item span.contact-name[data-v-4ac23d9e]{float:right;position:relative}.contact-body .contact-item span.contact-last-message[data-v-4ac23d9e]{float:right;width:calc(100% - 60px);font-weight:lighter;font-size:12px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;direction:rtl;text-align:right}.contact-body .contact-item .contact-date[data-v-4ac23d9e]{float:left;padding-top:5px;width:50px;direction:ltr;text-align:center}.contact-body .contact-item .my-contact-info-wrapper[data-v-4ac23d9e]{padding-top:6px;padding-right:15px}.last-message-date[data-v-4ac23d9e]{display:inline-block;height:17px;width:60px;font-size:10px;line-height:2;text-align:center}.count-number[data-v-4ac23d9e]{display:inline-block;height:17px;width:17px;background:#00c569;color:#fff;border-radius:50px;font-size:10px;line-height:2}.count-number-wrapper[data-v-4ac23d9e]{width:60px;float:left;text-align:center}.not-found-item[data-v-4ac23d9e]{text-align:center;padding:100px 15px 0}.not-found-item p[data-v-4ac23d9e]{font-size:16px;font-weight:700;color:#777}.not-found-item i[data-v-4ac23d9e]{margin:5px}.load-more[data-v-4ac23d9e]{margin:0;display:inline-block;background:#00c569;color:#fff;padding:10px 25px;border-radius:0;text-align:center;font-size:15px;font-weight:700;border:none;width:100%}.verified-user[data-v-4ac23d9e]{line-height:1;font-size:15px;position:absolute;left:-18px;top:-2px}.verified-user[data-v-4ac23d9e]:before{top:4px;left:3px;font-size:9px}.contacts-switch-buttons-wrapper[data-v-4ac23d9e]{float:right;width:100%;background:#eef3f3}.contacts-switch-buttons-wrapper .switch-button-item[data-v-4ac23d9e]{float:right;width:50%}.contacts-switch-buttons-wrapper .contact-button[data-v-4ac23d9e]{border:none;width:100%;font-size:13px;padding:3px 0;position:relative;color:#666}.contacts-switch-buttons-wrapper .contact-button .fa-plus[data-v-4ac23d9e]{position:relative;left:-5px;top:-9px;color:#00c569;font-size:12px}.contacts-switch-buttons-wrapper .contact-button.active[data-v-4ac23d9e],.contacts-switch-buttons-wrapper .contact-button[data-v-4ac23d9e]:hover{background-color:#fff;border-bottom:1px solid #00c569;z-index:1}.total-unread-messages-badge[data-v-4ac23d9e]{position:absolute;top:-6px;background:#e41c38;height:16px;width:30px;color:#fff;border-radius:4px;left:5px;font-size:11px;line-height:1;padding-top:2px}.contact-button.active[data-v-4ac23d9e]{border-radius:4px 4px 0 0}.buyad-lists-wrapper .contact-item>button[data-v-4ac23d9e]{background:#fff;border:none;border-bottom:2px solid #ddd;padding:0;text-align:center}.buyad-expier[data-v-4ac23d9e]{color:#556080}.buyad-notice[data-v-4ac23d9e]{color:#aeaeae}.request-contact-image[data-v-4ac23d9e]{width:30px;height:30px;float:right}.buyad-info[data-v-4ac23d9e]{font-size:15px;padding:5px 0;font-weight:700;color:#777}.buyad-info span[data-v-4ac23d9e]{color:#556080}.buyad-header[data-v-4ac23d9e]{padding:8px 5px;float:right;width:100%;border-bottom:1px solid #f2f2f2}.contact-body .contact-item .my-contact-info-wrapper[data-v-4ac23d9e]{float:right;padding-top:2px;direction:ltr;text-align:left;width:calc(100% - 45px);padding-right:8px}.contact-body .contact-item .my-contact-info-wrapper[data-v-4ac23d9e]:last-of-type{padding-top:6px}.buyad-button p[data-v-4ac23d9e]{color:#fff;border-radius:4px;padding:3px;max-width:150px;margin:7px auto 15px}.buyad-button p[data-v-4ac23d9e],.buyad-button p[data-v-4ac23d9e]:hover{background:#00c569;-webkit-transition:.3s;transition:.3s}.buyad-button.disable p[data-v-4ac23d9e]{background:#ddd;-webkit-transition:.3s;transition:.3s}.user-not-fount img[data-v-4ac23d9e]{width:200px;display:block;margin:60px auto 20px}.user-not-fount p[data-v-4ac23d9e]{font-weight:500}@media screen and (max-width:991px){.main-content[data-v-4ac23d9e]{padding:59px 0 0}.main-content.is-fix-alert[data-v-4ac23d9e]{padding:89px 0 0}}@media screen and (max-width:767px){.send-message-form .button-wrapper button[data-v-4ac23d9e]{padding:12px 13px;font-size:inherit}.send-message-form .message-input input[data-v-4ac23d9e]{padding:13px 15px}.main-content[data-v-4ac23d9e]{padding:59px 0 0}.main-content.is-fix-alert[data-v-4ac23d9e]{padding:85px 0 0}.hidden_element[data-v-4ac23d9e]{display:none}.message-wrapper .message-contact-title span[data-v-4ac23d9e]{padding-top:6px;width:170px;overflow:hidden;height:40px;line-height:1.618;text-overflow:ellipsis;white-space:nowrap}.reply-info p[data-v-4ac23d9e]{width:100%}}@media screen and (max-width:370px){.message-wrapper .message-contact-title span[data-v-4ac23d9e]{width:130px}}@media screen and (max-width:330px){.message-wrapper .message-contact-title-img[data-v-4ac23d9e]{margin:0 15px}.message-wrapper .message-contact-title span[data-v-4ac23d9e]{font-size:13px}}",""])},363:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{is_contact:!0}},methods:{activeComponentTooltip:function(){$(".verified-user").popover({trigger:"manual",html:!0,animation:!1}).on("mouseenter",function(){var t=this;$(this).popover("show"),$(".popover").on("mouseleave",function(){$(t).popover("hide")})}).on("mouseleave",function(){var t=this;setTimeout(function(){$(".popover:hover").length||$(t).popover("hide")},300)})}},watch:{"$parent.contactList":function(){var t=this;this.$parent.contactList&&setTimeout(function(){t.activeComponentTooltip()},10)}}}},364:function(t,e,a){var i=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"switch-button-item"},[e("button",{staticClass:"contact-button active"},[e("i",{staticClass:"fa fa-user"}),this._v("\n          مخاطبین من\n        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"user-not-fount"},[e("img",{attrs:{src:a(346),alt:""}}),this._v(" "),e("span",[this._v("مخاطب یافت نشد")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lds-ring"},[e("div"),this._v(" "),e("div"),this._v(" "),e("div"),this._v(" "),e("div")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"user-not-fount"},[e("img",{attrs:{src:a(346),alt:""}}),this._v(" "),e("span",[this._v("هیچ مکالمه ای وجود ندارد")])])}];t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"contact-body my-contacts"},[i("div",{staticClass:"contact-search"},[i("div",{staticClass:"contact-search-input-wrapper"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.contactNameSearchText,expression:"$parent.contactNameSearchText"}],attrs:{type:"text",placeholder:"جستجو مخاطب"},domProps:{value:t.$parent.contactNameSearchText},on:{input:function(e){e.target.composing||t.$set(t.$parent,"contactNameSearchText",e.target.value)}}}),t._v(" "),i("i",{staticClass:"fa fa-search"}),t._v(" "),t.$parent.contactNameSearchText?i("button",{on:{click:function(e){e.preventDefault(),t.$parent.contactNameSearchText=""}}},[i("i",{staticClass:"fa fa-times"})]):t._e()]),t._v(" "),t.$parent.userType?i("div",{staticClass:"contacts-switch-buttons-wrapper"},[i("div",{staticClass:"switch-button-item"},[i("router-link",{staticClass:"contact-button",attrs:{to:{name:"messagesRequestSeller"},tag:"button"}},[i("span",{staticClass:"total-unread-messages-badge"},[t._v("جدید")]),t._v(" "),i("i",{staticClass:"fa fa-list-alt"}),t._v("\n          خریداران پیشنهادی\n        ")])],1),t._v(" "),t._m(0)]):t._e()]),t._v(" "),0===t.$parent.contactList.length?i("div",{staticClass:"not-found-item"},[t.$parent.contactNameSearchText||t.$parent.isContactListLoaded?t.$parent.contactNameSearchText&&!t.$parent.isSearchingContact?i("div",[t._m(1)]):t.$parent.isSearchingContact?i("div",{staticClass:"contact-is-search"},[t._m(2)]):t.$parent.isContactListLoaded?i("div",[t._m(3)]):t._e():i("div",{staticClass:"image-wrapper"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.$parent.isImageLoad||t.$parent.isImageLoad,expression:"!$parent.isImageLoad || $parent.isImageLoad"}],staticClass:"lds-ring"},[i("div"),t._v(" "),i("div"),t._v(" "),i("div"),t._v(" "),i("div")])])]):i("div",{staticClass:"contact-items",class:{"is-buyer-list":!t.$parent.userType}},[i("ul",[t._l(t.$parent.contactList,function(e,n){return i("li",{key:n,staticClass:"contact-item"},[i("a",{class:{active:t.$parent.selectedContact.contact_id==e.contact_id},attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.$parent.loadChatHistory(e,n)}}},[i("div",{staticClass:"contact-image"},[e.profile_photo?i("img",{attrs:{src:t.$parent.str+"/"+e.profile_photo,alt:e.first_name[0]}}):i("img",{attrs:{src:a(159)}})]),t._v(" "),i("div",{staticClass:"my-contact-info-wrapper"},[i("span",{staticClass:"contact-name text-rtl"},[t._v("\n              "+t._s(e.first_name+" "+e.last_name)+"\n              "),e.is_verified?i("button",{staticClass:"verified-user",attrs:{"data-container":"body","data-toggle":"popover","data-placement":"bottom","data-content":t.$parent.verifiedUserContent,title:""},on:{click:function(t){t.preventDefault()}}},[i("i",{staticClass:"fa fa-certificate"})]):t._e()]),t._v(" "),i("p",{staticClass:"last-message-date"},[t._v("\n              "+t._s(t._f("moment")(e.last_msg_time_date,"jYYYY/jMM/jDD"))+"\n            ")])]),t._v(" "),i("div",{staticClass:"my-contact-info-wrapper"},[i("span",{staticClass:"contact-last-message",domProps:{textContent:t._s(e.last_msg.last_msg_text)}}),t._v(" "),i("div",{staticClass:"count-number-wrapper"},[0!==e.unread_msgs_count?i("p",{staticClass:"count-number",domProps:{textContent:t._s(e.unread_msgs_count)}}):t._e()])])])])}),t._v(" "),t.$parent.showLoadMoreBtn&&!t.$parent.contactNameSearchText?i("li",{staticClass:"contact-item"},[i("button",{staticClass:"btn load-more",on:{click:function(e){e.preventDefault(),t.$parent.loadMoreContacts()}}},[t._v("\n          ادامه مخاطبین\n        ")])]):t._e()],2)])])},staticRenderFns:i}},419:function(t,e,a){var i=a(5)(a(363),a(364),!1,function(t){a(361)},"data-v-4ac23d9e",null);t.exports=i.exports},459:function(t,e,a){var i=a(460);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(4)("3d4fffc4",i,!0,{})},460:function(t,e,a){(t.exports=a(1)(!1)).push([t.i,".message-wrapper[data-v-f5bd1654]{border-right:1px solid #e4e4e4;position:relative;height:100%}.main-content[data-v-f5bd1654]{padding:59px 250px 0 0;direction:rtl;height:100%;position:fixed;background:#fff;left:0;bottom:0;top:0}.main-content.is-fix-alert[data-v-f5bd1654]{padding:85px 250px 0 0}.little-main .main-content[data-v-f5bd1654]{padding:59px 80px 0 0}.lds-ring[data-v-f5bd1654]{display:inline-block;position:absolute;width:64px;height:64px;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.lds-ring div[data-v-f5bd1654]{-webkit-box-sizing:border-box;box-sizing:border-box;display:block;position:absolute;width:51px;height:51px;margin:6px;border:5px solid #00c569;border-radius:50%;-webkit-animation:lds-ring-data-v-f5bd1654 1.2s cubic-bezier(.5,0,.5,1) infinite;animation:lds-ring-data-v-f5bd1654 1.2s cubic-bezier(.5,0,.5,1) infinite;border-color:#00c569 transparent transparent}.lds-ring-alt[data-v-f5bd1654]{display:block;margin-top:50px;direction:rtl;text-align:center}.lds-ring div[data-v-f5bd1654]:first-child{-webkit-animation-delay:-.45s;animation-delay:-.45s}.lds-ring div[data-v-f5bd1654]:nth-child(2){-webkit-animation-delay:-.3s;animation-delay:-.3s}.lds-ring div[data-v-f5bd1654]:nth-child(3){-webkit-animation-delay:-.15s;animation-delay:-.15s}.loade-more-messages .lds-ring[data-v-f5bd1654]{width:50px;height:50px}.loade-more-messages .lds-ring>div[data-v-f5bd1654]{width:36px;height:36px}@-webkit-keyframes lds-ring-data-v-f5bd1654{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes lds-ring-data-v-f5bd1654{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.contact-title[data-v-f5bd1654]{font-size:16px;padding:18px 8px 23px;border-bottom:2px solid #f2f2f2}.contact-title i[data-v-f5bd1654]{font-size:26px;position:relative;top:5px}.contact-title span[data-v-f5bd1654]{font-size:16px;padding-right:4px}.contact-wrapper>div[data-v-f5bd1654],.contact-wrapper[data-v-f5bd1654]{height:100%}.contact-wrapper .contact-body[data-v-f5bd1654]{height:100%;overflow-y:scroll;float:right;width:100%}.default-message-wrapper[data-v-f5bd1654]{position:relative;height:100%;background:#f6f6f6}.default-message-wrapper .default-main-contents[data-v-f5bd1654]{width:250px;height:250px;background:#fff;border-radius:250px;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);text-align:center;padding-top:60px;-webkit-box-shadow:0 0 10px #ebebeb;box-shadow:0 0 10px #ebebeb}.default-message-wrapper .default-main-contents.seller-buyAd-picture[data-v-f5bd1654]{width:100%;max-width:400px;border-radius:10px;padding:0;padding-top:30px;height:435px}.default-message-wrapper .default-main-contents.seller-buyAd-picture .red-text[data-v-f5bd1654]{margin:30px 0 -24px;z-index:1;padding:0 15px;line-height:1.618;position:relative}.default-message-wrapper .default-main-contents.seller-buyAd-picture p[data-v-f5bd1654]:last-of-type{max-width:320px;margin:0 auto}.default-message-wrapper .default-main-contents i[data-v-f5bd1654]{font-size:55px}.default-message-wrapper .default-main-contents p[data-v-f5bd1654]{font-size:16px;margin:20px 0}.contact-not-found[data-v-f5bd1654]{text-align:center;margin:15px auto}.contact-not-found i[data-v-f5bd1654]{font-size:26px}.contact-not-found p[data-v-f5bd1654]{margin-bottom:7px}.contacts-switch-buttons-wrapper[data-v-f5bd1654]{float:right;width:100%;background:#eef3f3;border-bottom:3px solid #e3e3e3}.contacts-switch-buttons-wrapper .switch-button-item[data-v-f5bd1654]{float:right;width:50%}.contacts-switch-buttons-wrapper .contact-button[data-v-f5bd1654]{border:none;width:100%;font-size:13px;font-weight:700;padding:15px 0;position:relative}.contacts-switch-buttons-wrapper .contact-button .fa-plus[data-v-f5bd1654]{position:relative;left:-5px;top:-9px;color:#00c569;font-size:12px}.contacts-switch-buttons-wrapper .contact-button.active[data-v-f5bd1654],.contacts-switch-buttons-wrapper .contact-button[data-v-f5bd1654]:hover{background-color:#fff;border-bottom:2px solid #00c569;margin-bottom:-2px;z-index:1}.total-unread-messages-badge[data-v-f5bd1654]{position:absolute;top:1px;background:red;height:23px;width:33px;color:#fff;border-radius:10px;left:5px;font-size:12px}.contact-wrapper .contact-items[data-v-f5bd1654]{position:relative;overflow-y:scroll;height:calc(100% + 40px)}.contact-wrapper .contact-items>ul[data-v-f5bd1654]{position:absolute;right:0;left:0;top:0;bottom:0}@media screen and (max-width:991px){.main-content[data-v-f5bd1654]{padding:59px 0 0}.main-content.is-fix-alert[data-v-f5bd1654]{padding:89px 0 0}}@media screen and (max-width:767px){.send-message-form .button-wrapper button[data-v-f5bd1654]{padding:12px 13px;font-size:inherit}.send-message-form .message-input input[data-v-f5bd1654]{padding:13px 15px}.main-content[data-v-f5bd1654]{padding:59px 0 0}.main-content.is-fix-alert[data-v-f5bd1654]{padding:85px 0 0}.hidden_element[data-v-f5bd1654]{display:none}.message-wrapper .message-contact-title span[data-v-f5bd1654]{padding-top:6px;width:170px;overflow:hidden;height:40px;line-height:1.618;text-overflow:ellipsis;white-space:nowrap}.contacts-switch-buttons-wrapper .switch-button-item[data-v-f5bd1654]{width:33.3333%}.reply-info p[data-v-f5bd1654]{width:100%}}@media screen and (max-width:370px){.message-wrapper .message-contact-title span[data-v-f5bd1654]{width:130px}}@media screen and (max-width:330px){.message-wrapper .message-contact-title-img[data-v-f5bd1654]{margin:0 15px}.message-wrapper .message-contact-title span[data-v-f5bd1654]{font-size:13px}}",""])},461:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(7),n=a(462),o=a.n(n),s=a(419),r=a.n(s),c=a(463),d=a.n(c);e.default={props:["isRequiredFixAlert","userType","currentUser","str"],components:{myContactList:r.a,MainChatWrapper:d.a},data:function(){return{isImageLoad:!1,isChatMessagesLoaded:!0,isFirstMessageLoading:!0,selectedIndex:-1,items:[{message:"پیام ها",url:"messages"}],isSearchingContact:!1,contactList:[],chatMessages:"",isNoticeActive:!0,selectedContact:"",currentUserId:"",currentContactUserId:"",msgToSend:"",isComponentActive:!0,contactNameSearchText:"",isContactListLoaded:!1,isCurrentStep:0,assets:this.$parent.assets,fromContact:0,toContact:15,contactsCountInEachLoad:20,showLoadMoreBtn:!1,userAllowedReview:!1,verifiedUserContent:this.$parent.verifiedUserContent,isCurrentUserVerified:!1}},methods:{init:function(){this.loadContactList()},loadImage:function(){this.isImageLoad=!1},ImageLoaded:function(){this.isImageLoad=!0},loadContactList:function(){var t=this;this.isContactListLoaded=!1,axios.post("/get_contact_list",{from:t.fromContact,to:t.toContact}).then(function(e){t.contactList=e.data.contact_list,t.currentUserId=e.data.user_id,t.isCurrentUserVerified=e.data.is_verified,t.isContactListLoaded=!0,t.contactList.length>=t.toContact?t.showLoadMoreBtn=!0:t.showLoadMoreBtn=!1}).catch(function(t){})},loadMoreContacts:function(){this.toContact=this.toContact+this.contactsCountInEachLoad,this.loadContactList()},loadChatHistory:function(t,e){var a=this;a.isChatLoadeMore=!1,a.handleBackBtnClickOnDevices(),a.isChatMessagesLoaded=!0,-10!==e&&(a.isFirstMessageLoading=!0),a.selectedIndex=e,this.selectedContact=t,this.isUserAuthorizedToPostComment(),this.currentContactUserId=t.contact_id,axios.post("/get_user_chat_history",{user_id:t.contact_id}).then(function(t){a.isNoticeActive=!0;var e=t.data.messages,i="";e=e.map(function(t){var e=t.created_at.substr(0,10);return t.isDateShow=!0,i==e&&(t.isDateShow=!1),i=e,t}),a.chatMessages=e,a.chatMessages.length||(a.isNoticeActive=!1),a.userHasNotice(),a.currentUserId=t.data.current_user_id,a.scrollToEnd(0)}).catch(function(t){});e=this.searchForObjectIndexInArray(t.contact_id,this.contactList);i.b.$emit("messageCount",-1*t.unread_msgs_count),t.unread_msgs_count=0,this.contactList.splice(e,1,t)},userHasNotice:function(){var t=this.getCookie("messengerNoticeData");t&&(JSON.parse(t).userNoticeCloed.find(this.cookieHasUser)&&(this.isNoticeActive=!1))},cookieHasUser:function(t){return t==this.selectedContact.contact_id},setNoticeCookie:function(){var t=this.selectedContact.contact_id,e=this.getCookie("messengerNoticeData");if(e){var a=JSON.parse(e).userNoticeCloed;a.find(this.cookieHasUser)||(a.push(t),this.createCookie("messengerNoticeData",JSON.stringify({userNoticeCloed:a}),1e3))}else this.createCookie("messengerNoticeData",JSON.stringify({userNoticeCloed:[t]}),1e3);this.isNoticeActive=!1},createCookie:function(t,e,a){if(a){var i=new Date;i.setTime(i.getTime()+60*a*1e3);var n="; expires="+i.toGMTString()}else n="";document.cookie=t+"="+e+n+"; path=/"},getCookie:function(t){for(var e=t+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){for(var n=a[i];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(e))return n.substring(e.length,n.length)}return""},checkCookie:function(){3==this.active_pakage_type||"false"==this.getCookie("closeSellerFixModal")||this.checkPricingRoute()?this.isRequiredFixAlert=!1:this.isRequiredFixAlert=!0},appendMessageToChatHistory:function(t){var e=this;e.isChatMessagesLoaded=!1,this.selectedContact=t,this.currentContactUserId=t.contact_id,axios.post("/get_user_chat_history",{user_id:t.contact_id}).then(function(t){e.chatMessages=t.data.messages,e.currentUserId=t.data.current_user_id,e.scrollToEnd(0)}).catch(function(t){})},scrollToEnd:function(t){var e=$(".chat-page ul"),a=this;setTimeout(function(){e.animate({scrollTop:e.prop("scrollHeight")},0,"swing",function(){a.isChatMessagesLoaded=!1})},t)},sendMessage:function(){var t=this,e=t.msgToSend;if(t.msgToSend="",e){var a={sender_id:t.currentUserId,receiver_id:t.currentContactUserId,text:e};t.chatMessages.push(a),t.scrollToEnd(0),axios.post("/messanger/send_message",a).then(function(e){t.isFirstMessageLoading=!1,t.loadChatHistory(t.selectedContact,-10)}).catch(function(t){})}},keepChatUpdated:function(t){var e=this;setTimeout(function(){e.loadChatHistory(t)},2e4)},pushNotification:function(t,e,a){o.a.create(t,{body:e,timeout:4e3,link:a,onClick:function(){window.focus(),this.close()}})},goToButtomOfChat:function(){$(".chat-page ul").animate({scrollTop:$(".chat-page ul").prop("scrollHeight")},0)},searchForObjectIndexInArray:function(t,e){for(var a=0;a<e.length;a++)if(e[a].contact_id===t)return a},pageHasBeenReloaded:function(){if(window.performance)return performance.navigation.type===performance.navigation.TYPE_RELOAD},parseDateTime:function(t){},isDeviceMobile:function(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))},handleBackBtnClickOnDevices:function(){var t=this;window.history.state&&history.pushState(null,null,window.location),$(window).on("popstate",function(e){t.isDeviceMobile()&&("/seller/messenger/contacts"!=window.location.pathname&&"/buyer/messenger/contacts"!=window.location.pathname||t.selectedContact&&(t.selectedContact=""))})},registerComponentStatistics:function(t,e,a){gtag("event",e,{event_category:t,event_label:a})},sendTokenToServer:function(t){axios.post("/fcm/register_token",{token:t}).then(function(t){var e=t.data.token;window.localStorage.setItem("storedToken",e)})},goToGroupList:function(){this.$router.push("group-messages"),this.$parent.groupStep=1},activeReportModal:function(t){i.b.$emit("reoprtModal",t)},activeReviewModal:function(){var t="",e={id:this.selectedContact.contact_id,name:this.selectedContact.first_name+" "+this.selectedContact.last_name};this.selectedContact.profile_photo&&(t=this.str+"/"+this.selectedContact.profile_photo,e.img=t),i.b.$emit("reviewUserData",e)},isUserAuthorizedToPostComment:function(){var t=this,e={user_id:this.selectedContact.contact_id};axios.post("/profile/is-user-authorized-to-post-comment",e).then(function(e){t.userAllowedReview=e.data.is_allowed})}},mounted:function(){this.init(),i.b.$emit("subHeader",!1)},created:function(){var t=this;gtag("config","UA-129398000-1",{page_path:"/messages"});var e=this;!1===o.a.Permission.has()&&o.a.Permission.request(function(){},function(){}),messaging&&(messaging.requestPermission().then(function(){return messaging.getToken()}).then(function(t){window.localStorage.getItem("storedToken")!=t&&e.sendTokenToServer(t)}).catch(function(t){console.log("Unable to get permission to notify.",t)}),i.b.$on("contanctMessageReceived",function(t){e.selectedContact?e.appendMessageToChatHistory(e.selectedContact):e.isComponentActive&&e.loadContactList()})),i.b.$on("userAllowedReview",function(e){t.userAllowedReview=e})},watch:{contactNameSearchText:function(t){var e=this;""!==e.contactNameSearchText?(e.isSearchingContact=!0,axios.post("/get_contact_list").then(function(t){e.contactList=t.data.contact_list,e.currentUserId=t.data.user_id;var a=e.contactNameSearchText.split(" ");e.contactList=e.contactList.filter(function(t){return a.every(function(e){return t.first_name.indexOf(e)>-1||t.last_name.indexOf(e)>-1})}),e.isSearchingContact=!1}).catch(function(t){})):(e.contactList=[],e.loadContactList())},selectedContact:function(t){i.b.$emit("activeContactId",t.contact_id)}},activated:function(){this.isComponentActive=!0},deactivated:function(){this.isComponentActive=!1},beforeDestroy:function(){this.isComponentActive=!1,this.selectedContact="",i.b.$emit("activeContactId","")}}},462:function(t,e,a){(function(e){var a;a=function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,e,a){return e&&i(t.prototype,e),a&&i(t,a),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var r="PushError:",c={errors:{incompatible:"".concat(r," Push.js is incompatible with browser."),invalid_plugin:"".concat(r," plugin class missing from plugin manifest (invalid plugin). Please check the documentation."),invalid_title:"".concat(r," title of notification must be a string"),permission_denied:"".concat(r," permission request declined"),sw_notification_error:"".concat(r," could not show a ServiceWorker notification due to the following reason: "),sw_registration_error:"".concat(r," could not register the ServiceWorker due to the following reason: "),unknown_interface:"".concat(r," unable to create notification: unknown interface")}},d=function(){function t(e){a(this,t),this._win=e,this.GRANTED="granted",this.DEFAULT="default",this.DENIED="denied",this._permissions=[this.GRANTED,this.DEFAULT,this.DENIED]}return n(t,[{key:"request",value:function(t,e){return arguments.length>0?this._requestWithCallback.apply(this,arguments):this._requestAsPromise()}},{key:"_requestWithCallback",value:function(t,e){var a=this,i=this.get(),n=function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a._win.Notification.permission;void 0===i&&a._win.webkitNotifications&&(i=a._win.webkitNotifications.checkPermission()),i===a.GRANTED||0===i?t&&t():e&&e()};i!==this.DEFAULT?n(i):this._win.webkitNotifications&&this._win.webkitNotifications.checkPermission?this._win.webkitNotifications.requestPermission(n):this._win.Notification&&this._win.Notification.requestPermission?this._win.Notification.requestPermission().then(n).catch(function(){e&&e()}):t&&t()}},{key:"_requestAsPromise",value:function(){var t=this,e=this.get(),a=e!==this.DEFAULT,i=this._win.Notification&&this._win.Notification.requestPermission,n=this._win.webkitNotifications&&this._win.webkitNotifications.checkPermission;return new Promise(function(o,s){var r=function(e){return function(e){return e===t.GRANTED||0===e}(e)?o():s()};a?r(e):n?t._win.webkitNotifications.requestPermission(function(t){r(t)}):i?t._win.Notification.requestPermission().then(function(t){r(t)}).catch(s):o()})}},{key:"has",value:function(){return this.get()===this.GRANTED}},{key:"get",value:function(){return this._win.Notification&&this._win.Notification.permission?this._win.Notification.permission:this._win.webkitNotifications&&this._win.webkitNotifications.checkPermission?this._permissions[this._win.webkitNotifications.checkPermission()]:navigator.mozNotification?this.GRANTED:this._win.external&&this._win.external.msIsSiteMode?this._win.external.msIsSiteMode()?this.GRANTED:this.DEFAULT:this.GRANTED}}]),t}(),p=function(){function e(){a(this,e)}return n(e,null,[{key:"isUndefined",value:function(t){return void 0===t}},{key:"isNull",value:function(t){return null===obj}},{key:"isString",value:function(t){return"string"==typeof t}},{key:"isFunction",value:function(t){return t&&"[object Function]"==={}.toString.call(t)}},{key:"isObject",value:function(e){return"object"===t(e)}},{key:"objectMerge",value:function(t,e){for(var a in e)t.hasOwnProperty(a)&&this.isObject(t[a])&&this.isObject(e[a])?this.objectMerge(t[a],e[a]):t[a]=e[a]}}]),e}(),l=function t(e){a(this,t),this._win=e},f=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,l),n(e,[{key:"isSupported",value:function(){return void 0!==this._win.Notification}},{key:"create",value:function(t,e){return new this._win.Notification(t,{icon:p.isString(e.icon)||p.isUndefined(e.icon)||p.isNull(e.icon)?e.icon:e.icon.x32,body:e.body,tag:e.tag,requireInteraction:e.requireInteraction})}},{key:"close",value:function(t){t.close()}}]),e}(),u=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,l),n(e,[{key:"isSupported",value:function(){return void 0!==this._win.navigator&&void 0!==this._win.navigator.serviceWorker}},{key:"getFunctionBody",value:function(t){var e=t.toString().match(/function[^{]+{([\s\S]*)}$/);return void 0!==e&&null!==e&&e.length>1?e[1]:null}},{key:"create",value:function(t,e,a,i,n){var o=this;this._win.navigator.serviceWorker.register(i),this._win.navigator.serviceWorker.ready.then(function(i){var s={id:t,link:a.link,origin:document.location.href,onClick:p.isFunction(a.onClick)?o.getFunctionBody(a.onClick):"",onClose:p.isFunction(a.onClose)?o.getFunctionBody(a.onClose):""};void 0!==a.data&&null!==a.data&&(s=Object.assign(s,a.data)),i.showNotification(e,{icon:a.icon,body:a.body,vibrate:a.vibrate,tag:a.tag,data:s,requireInteraction:a.requireInteraction,silent:a.silent}).then(function(){i.getNotifications().then(function(t){i.active.postMessage(""),n(t)})}).catch(function(t){throw new Error(c.errors.sw_notification_error+t.message)})}).catch(function(t){throw new Error(c.errors.sw_registration_error+t.message)})}},{key:"close",value:function(){}}]),e}(),h=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,l),n(e,[{key:"isSupported",value:function(){return void 0!==this._win.navigator.mozNotification}},{key:"create",value:function(t,e){var a=this._win.navigator.mozNotification.createNotification(t,e.body,e.icon);return a.show(),a}}]),e}(),g=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,l),n(e,[{key:"isSupported",value:function(){return void 0!==this._win.external&&void 0!==this._win.external.msIsSiteMode}},{key:"create",value:function(t,e){return this._win.external.msSiteModeClearIconOverlay(),this._win.external.msSiteModeSetIconOverlay(p.isString(e.icon)||p.isUndefined(e.icon)?e.icon:e.icon.x16,t),this._win.external.msSiteModeActivate(),null}},{key:"close",value:function(){this._win.external.msSiteModeClearIconOverlay()}}]),e}(),v=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,l),n(e,[{key:"isSupported",value:function(){return void 0!==this._win.webkitNotifications}},{key:"create",value:function(t,e){var a=this._win.webkitNotifications.createNotification(e.icon,t,e.body);return a.show(),a}},{key:"close",value:function(t){t.cancel()}}]),e}();return new(function(){function t(e){a(this,t),this._currentId=0,this._notifications={},this._win=e,this.Permission=new d(e),this._agents={desktop:new f(e),chrome:new u(e),firefox:new h(e),ms:new g(e),webkit:new v(e)},this._configuration={serviceWorker:"/serviceWorker.min.js",fallback:function(t){}}}return n(t,[{key:"_closeNotification",value:function(t){var e=!0,a=this._notifications[t];if(void 0!==a){if(e=this._removeNotification(t),this._agents.desktop.isSupported())this._agents.desktop.close(a);else if(this._agents.webkit.isSupported())this._agents.webkit.close(a);else{if(!this._agents.ms.isSupported())throw e=!1,new Error(c.errors.unknown_interface);this._agents.ms.close()}return e}return!1}},{key:"_addNotification",value:function(t){var e=this._currentId;return this._notifications[e]=t,this._currentId++,e}},{key:"_removeNotification",value:function(t){var e=!1;return this._notifications.hasOwnProperty(t)&&(delete this._notifications[t],e=!0),e}},{key:"_prepareNotification",value:function(t,e){var a,i=this;return a={get:function(){return i._notifications[t]},close:function(){i._closeNotification(t)}},e.timeout&&setTimeout(function(){a.close()},e.timeout),a}},{key:"_serviceWorkerCallback",value:function(t,e,a){var i=this,n=this._addNotification(t[t.length-1]);navigator&&navigator.serviceWorker&&(navigator.serviceWorker.addEventListener("message",function(t){var e=JSON.parse(t.data);"close"===e.action&&Number.isInteger(e.id)&&i._removeNotification(e.id)}),a(this._prepareNotification(n,e))),a(null)}},{key:"_createCallback",value:function(t,e,a){var i,n=this,o=null;if(e=e||{},i=function(t){n._removeNotification(t),p.isFunction(e.onClose)&&e.onClose.call(n,o)},this._agents.desktop.isSupported())try{o=this._agents.desktop.create(t,e)}catch(i){var s=this._currentId,r=this.config().serviceWorker;this._agents.chrome.isSupported()&&this._agents.chrome.create(s,t,e,r,function(t){return n._serviceWorkerCallback(t,e,a)})}else this._agents.webkit.isSupported()?o=this._agents.webkit.create(t,e):this._agents.firefox.isSupported()?this._agents.firefox.create(t,e):this._agents.ms.isSupported()?o=this._agents.ms.create(t,e):(e.title=t,this.config().fallback(e));if(null!==o){var c=this._addNotification(o),d=this._prepareNotification(c,e);p.isFunction(e.onShow)&&o.addEventListener("show",e.onShow),p.isFunction(e.onError)&&o.addEventListener("error",e.onError),p.isFunction(e.onClick)&&o.addEventListener("click",e.onClick),o.addEventListener("close",function(){i(c)}),o.addEventListener("cancel",function(){i(c)}),a(d)}a(null)}},{key:"create",value:function(t,e){var a,i=this;if(!p.isString(t))throw new Error(c.errors.invalid_title);return a=this.Permission.has()?function(a,n){try{i._createCallback(t,e,a)}catch(t){n(t)}}:function(a,n){i.Permission.request().then(function(){i._createCallback(t,e,a)}).catch(function(){n(c.errors.permission_denied)})},new Promise(a)}},{key:"count",value:function(){var t,e=0;for(t in this._notifications)this._notifications.hasOwnProperty(t)&&e++;return e}},{key:"close",value:function(t){var e;for(e in this._notifications)if(this._notifications.hasOwnProperty(e)&&this._notifications[e].tag===t)return this._closeNotification(e)}},{key:"clear",value:function(){var t,e=!0;for(t in this._notifications)this._notifications.hasOwnProperty(t)&&(e=e&&this._closeNotification(t));return e}},{key:"supported",value:function(){var t=!1;for(var e in this._agents)this._agents.hasOwnProperty(e)&&(t=t||this._agents[e].isSupported());return t}},{key:"config",value:function(t){return(void 0!==t||null!==t&&p.isObject(t))&&p.objectMerge(this._configuration,t),this._configuration}},{key:"extend",value:function(t){var e,a={}.hasOwnProperty;if(!a.call(t,"plugin"))throw new Error(c.errors.invalid_plugin);for(var i in a.call(t,"config")&&p.isObject(t.config)&&null!==t.config&&this.config(t.config),e=new(0,t.plugin)(this.config()))a.call(e,i)&&p.isFunction(e[i])&&(this[i]=e[i])}}]),t}())("undefined"!=typeof window?window:e)},t.exports=a()}).call(e,a(6))},463:function(t,e,a){var i=a(5)(a(467),a(468),!1,function(t){a(464)},"data-v-40760804",null);t.exports=i.exports},464:function(t,e,a){var i=a(465);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(4)("548d963d",i,!0,{})},465:function(t,e,a){var i=a(9);(t.exports=a(1)(!1)).push([t.i,".loading-container[data-v-40760804]{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;position:relative;align-items:center;z-index:1}.loading-container .lds-ring[data-v-40760804]{background:#fff;border-radius:50px;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.5);box-shadow:0 1px 1px rgba(0,0,0,.5);width:50px;height:50px;padding:4px}.loading-container .lds-ring>div[data-v-40760804]{width:30px;height:30px;border-width:3px}.chat-loaded[data-v-40760804]::-webkit-scrollbar{display:none}.chat-loaded[data-v-40760804]{-ms-overflow-style:none;scrollbar-width:none}.whatsapp-loading-gif[data-v-40760804]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:20%;height:0%;display:-webkit-box;display:-ms-flexbox;display:flex}.chat-loaded[data-v-40760804]{opacity:1}.contact-is-search img[data-v-40760804]{display:block;width:60px;margin:18px auto}.clock-icon[data-v-40760804]{font-size:14px}.check-items[data-v-40760804]{padding-left:10px;color:#b2b2b2}.text-blue[data-v-40760804]{color:#60caf1}.check-items.dual[data-v-40760804] :last-of-type{margin-left:-8px}.message-wrapper .message-contact-title[data-v-40760804]{font-size:16px;padding:7px 15px 8px;float:right;width:100%;color:#fff;background:#f0f0f0}.message-contact-title a[data-v-40760804]{color:#fafafa;-webkit-transition:.3s;transition:.3s}.message-contact-title a[data-v-40760804]:hover{color:#fff;-webkit-transition:.3s;transition:.3s}.chat-page .bg-wrapper[data-v-40760804]{background:url("+i(a(466))+') repeat;opacity:.06;position:absolute;z-index:1;left:0;right:0;top:50px;bottom:60px;background-size:50%}.chat-page ul[data-v-40760804]{background-color:#e5ddd6}.chat-page ul li[data-v-40760804]{position:relative;z-index:1}.message-wrapper .message-contact-title-img[data-v-40760804]{width:35px;height:35px;float:right;border-radius:50px;overflow:hidden;position:relative;margin-left:10px}.message-wrapper .message-contact-title img[data-v-40760804]{position:absolute;left:50%;top:50%;height:100%;width:auto;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.message-wrapper .message-contact-title span[data-v-40760804]{float:right;display:block;margin-top:7px;white-space:nowrap;text-overflow:ellipsis;height:25px;overflow:hidden;max-width:135px;font-size:15px;color:#919191}.back-state[data-v-40760804]{background:none;color:#fff;border:none;font-size:22px;position:relative;top:5px;padding:0;padding-right:10px}.report-button[data-v-40760804]{background:#fff;color:#777;padding:3px 12px 0;border-radius:5px;font-size:20px;border:none;position:relative;top:3px}.message-wrapper .chat-page ul[data-v-40760804]{padding:20px 70px;overflow-x:hidden;position:absolute;left:0;right:0;bottom:60px;top:50px;-webkit-transition:.1s;transition:.1s}.message-wrapper .chat-page ul li[data-v-40760804]{width:100%;float:right}.message-wrapper .chat-page ul li[data-v-40760804]:last-of-type{margin-bottom:20px}.message-date[data-v-40760804]{text-align:center;margin:10px auto;color:#313a43;font-size:14px}.message-date span[data-v-40760804]{background:#e1f5fe;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.2);box-shadow:0 1px 1px rgba(0,0,0,.2);border-radius:7px;padding:3px 10px 0;line-height:1}.message-wrapper .chat-page li>div.message-item-wrapper[data-v-40760804]{font-size:14px;line-height:1.612;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.16);box-shadow:0 1px 3px rgba(0,0,0,.16);border-radius:8px;margin:0 auto 3px;display:inline-block;position:relative;max-width:100%;min-width:100px}.message-content-wrapper[data-v-40760804]{max-width:455px;padding:5px 10px;display:block}.message-wrapper .chat-page .message-item-wrapper.message-receive[data-v-40760804]{float:left;background:#fff;border-radius:0 8px 8px 8px}.message-wrapper .chat-page .message-receive[data-v-40760804]:after{content:"";display:block;position:absolute;left:-6px;top:0;width:0;height:0;border-style:solid;border-width:0 6px 9px 0;border-color:transparent #fff transparent transparent;line-height:0;_border-color:#000 #fff #000 #000;_filter:progid:DXImageTransform.Microsoft.Chroma(color="#000000")}.message-wrapper .chat-page .message-item-wrapper.message-send[data-v-40760804]{float:right;background:#dcf8c6;border-radius:8px 0 8px 8px}.message-wrapper .chat-page .message-send[data-v-40760804]:after{content:"";display:block;position:absolute;right:-6px;top:0;width:0;height:0;border-style:solid;border-width:9px 6px 0 0;border-color:#dcf8c6 transparent transparent;line-height:0;_border-color:#dcf8c6 #000 #000;_filter:progid:DXImageTransform.Microsoft.Chroma(color="#000000")}.message-wrapper .chat-page span.message-chat-date[data-v-40760804]{text-align:right;font-size:11px;padding-top:3px;width:100%;direction:ltr;display:block;color:#b2b2b2}.send-message-form[data-v-40760804]{overflow:hidden;padding:10px 15px;position:absolute;bottom:0;width:100%;background:#f0f0f0}.message-input[data-v-40760804]{float:left;width:calc(100% - 60px)}.send-message-form .message-input input[data-v-40760804]{border-radius:50px;background:#fff;border:none;padding:8px 15px}.button-wrapper[data-v-40760804]{float:right;line-height:1.1}.button-wrapper svg[data-v-40760804]{height:21px;position:relative;right:-2px;top:4px}.send-message-form .button-wrapper button[data-v-40760804]{float:right;width:40px;height:40px;color:#fff;background:-webkit-gradient(linear,left top,right top,from(#00c569),to(#21ad93));background:linear-gradient(90deg,#00c569,#21ad93);border:none;border-radius:35px;padding:0 10px}#chat-menu-items[data-v-40760804]{position:absolute;left:15px;z-index:10;width:170px;background:#fff;text-align:right;direction:rtl;border-radius:4px;line-height:1.618;-webkit-box-shadow:0 3px 15px rgba(0,0,0,.2);box-shadow:0 3px 15px rgba(0,0,0,.2);top:48px;overflow:hidden;padding:0!important}#chat-menu-items li:last-of-type button[data-v-40760804]{border:none}#chat-menu-items li button i[data-v-40760804]{margin-left:6px}#chat-menu-items li button[data-v-40760804]{background:none;color:#777;font-size:14px;border:none;width:100%;padding:10px;text-align:right;-webkit-transition:.2s;transition:.2s;border-bottom:1px solid #dbdbdb}#chat-menu-items li button[data-v-40760804]:hover{color:#333;background:#eee;-webkit-transition:.2s;transition:.2s}.new-badge[data-v-40760804]{position:absolute;right:-16px;background:#e51c38;border-radius:50px;font-size:12px;color:#fff;top:-8px;line-height:1;padding:4px 2px}.messenger-notice[data-v-40760804]{text-align:center;background:#fff8c1;padding:7px;border-radius:8px;margin-top:20px;line-height:1.618;color:#777;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.16);box-shadow:0 1px 3px rgba(0,0,0,.16)}.messenger-notice .notice-title[data-v-40760804]{font-size:13px}.message-wrapper .chat-page li>div.notice-actions[data-v-40760804]{margin:3px auto 0;-webkit-box-shadow:none;box-shadow:none}.messenger-notice .notice-actions button[data-v-40760804]{border:none;color:#21ad92;border-radius:4px;margin:2px 7px 0;background:#fff;padding:2px 15px}.messenger-notice .notice-actions button[data-v-40760804]:hover{background:#21ad93;border-color:#21ad93;color:#fff}.messenger-notice .notice-actions button i[data-v-40760804]{margin-left:7px}.verified-user[data-v-40760804]:before{top:3px;left:3px}@media screen and (max-width:767px){#chat-menu-items[data-v-40760804]{left:54px}.messenger-notice[data-v-40760804]{margin:20px -20px;border-radius:0;background:#fcfaf8;text-align:right;padding:7px 15px}.notice-actions[data-v-40760804]{width:100%}.messenger-notice .notice-actions button[data-v-40760804]{width:100%;text-align:right;background:none;padding:5px 0}.messenger-notice .notice-actions button[data-v-40760804]:hover{background:initial;border-color:initial;color:#21ad92}.message-button-wrapper[data-v-40760804]{margin:0 -10px -5px;overflow:hidden;border-radius:0 0 4px 4px}.message-button-wrapper button[data-v-40760804]{display:block;width:100%;background:#21ad93;text-align:center;color:#fff;border:none;font-size:14px;padding:5px;margin-top:8px}.message-button-wrapper button i[data-v-40760804]{font-size:11px}.is-phone-active-wrapper[data-v-40760804]{min-width:200px}.is-phone-active-text[data-v-40760804]{font-size:18px}}@media screen and (max-width:345px){.message-wrapper .message-contact-title-img[data-v-40760804]{margin-left:10px}.message-wrapper .message-contact-title span[data-v-40760804]{width:115px}}',""])},466:function(t,e){t.exports="/images/whatsappbg.png?686b98c9fdffef3f63127759e2057750"},467:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{init:function(){this.hideCollapses(),this.$parent.userHasNotice()},hideCollapses:function(){$(document).on("click",function(t){var e=$("#chat-menu-items").hasClass("in");$(t.target).closest("#chat-menu-items").length||$(t.target).is("#button-collapse-chat-menu")||!0!==e||$("#chat-menu-items").collapse("toggle")})},checkMessageName:function(t,e){var a=!1;return this.$parent.chatMessages[e]&&e>=0?this.$parent.chatMessages[t].sender_id!=this.$parent.chatMessages[e].sender_id&&(a=!0):a=!0,a},checkMessageListClass:function(t){var e=!1;return 1==this.$parent.selectedContact.is_verified&&(this.$parent.isNoticeActive=!1),t==this.$parent.currentUserId?(this.$parent.isNoticeActive=!1,e=!0):e=!1,e}},mounted:function(){this.init()}}},468:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"message-contact-title"},[i("div",{staticClass:"contact-title-contents pull-right"},[i("div",{staticClass:"message-contact-title-img"},[t.$parent.selectedContact.profile_photo?i("img",{attrs:{src:t.$parent.str+"/"+t.$parent.selectedContact.profile_photo,alt:t.$parent.selectedContact.first_name[0]}}):i("img",{attrs:{src:a(159)}})]),t._v(" "),i("router-link",{attrs:{to:{path:"/profile/"+t.$parent.selectedContact.user_name}}},[i("span",[t._v("\n          "+t._s(t.$parent.selectedContact.first_name+" "+t.$parent.selectedContact.last_name)+"\n          "),t.$parent.selectedContact.is_verified?i("button",{staticClass:"verified-user",attrs:{"data-container":"body","data-toggle":"popover","data-placement":"bottom","data-content":t.$parent.verifiedUserContent,title:""},on:{click:function(t){t.preventDefault()}}},[i("i",{staticClass:"fa fa-certificate"})]):t._e()])])],1),t._v(" "),i("div",{staticClass:"head-action-buttons pull-left"},[i("div",{staticClass:"head-action-buttons pull-left"},[t._m(0),t._v(" "),i("button",{staticClass:"back-state hidden-sm hidden-md hidden-lg",on:{click:function(e){e.preventDefault(),t.$parent.selectedContact=!t.$parent.selectedContact}}},[i("i",{staticClass:"fa fa-arrow-left"})]),t._v(" "),i("ul",{staticClass:"collapse",attrs:{id:"chat-menu-items"}},[i("li",{staticClass:"list-item"},[i("button",{attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.$parent.activeReportModal(t.$parent.selectedContact.contact_id)}}},[i("i",{staticClass:"fas fa-exclamation-circle"}),t._v("\n              گزارش تخلف\n            ")])]),t._v(" "),t.$parent.userAllowedReview?i("li",{staticClass:"list-item"},[i("button",{attrs:{type:"button"},on:{click:function(e){e.preventDefault(),t.$parent.activeReviewModal()}}},[i("i",{staticClass:"fas fa-star"}),t._v("\n              ثبت نظر\n            ")])]):t._e()])])])]),t._v(" "),t.$parent.selectedContact?i("div",{staticClass:"chat-page"},[i("div",{staticClass:"bg-wrapper"}),t._v(" "),i("ul",{class:[t.$parent.isChatMessagesLoaded&&t.$parent.isFirstMessageLoading?"chat-not-loaded":"chat-loaded"]},[t._l(t.$parent.chatMessages,function(e,a){return i("li",{key:e.id,class:{"margin-top-10":t.checkMessageName(a,a-1)}},[e.isDateShow?i("div",{staticClass:"message-date"},[i("span",[t._v("\n            "+t._s(t._f("moment")(e.created_at,"jYYYY/jMM/jDD"))+"\n          ")])]):t._e(),t._v(" "),i("div",{staticClass:"message-item-wrapper",class:[t.checkMessageListClass(e.sender_id)?"message-send":"message-receive"]},[e.is_phone&&!t.checkMessageListClass(e.sender_id)?i("div",{staticClass:"message-content-wrapper is-phone-active-wrapper"},[i("a",{staticClass:"hidden-sm hidden-md hidden-lg",attrs:{href:"tel:"+e.text}},[i("span",{staticClass:"is-phone-active-text"},[t._v("\n                "+t._s(e.text)+"\n              ")]),t._v(" "),i("span",{staticClass:"message-chat-date"},[e.created_at?i("span",[t._v(t._s(t._f("moment")(e.created_at,"HH:mm")))]):i("span",[t._v(t._s(t._f("moment")(Date(),"HH:mm")))]),t._v(" "),t._m(1,!0)])]),t._v(" "),i("div",{staticClass:"message-content-wrapper hidden-xs"},[i("span",{domProps:{textContent:t._s(e.text)}}),t._v(" "),i("span",{staticClass:"message-chat-date"},[e.created_at?i("span",[t._v(t._s(t._f("moment")(e.created_at,"HH:mm")))]):i("span",[t._v(t._s(t._f("moment")(Date(),"HH:mm")))])])])]):i("div",{staticClass:"message-content-wrapper"},[i("span",{domProps:{textContent:t._s(e.text)}}),t._v(" "),i("span",{staticClass:"message-chat-date"},[e.created_at?i("span",[t._v(t._s(t._f("moment")(e.created_at,"HH:mm")))]):i("span",[t._v(t._s(t._f("moment")(Date(),"HH:mm")))]),t._v(" "),e.sender_id!==t.$parent.currentUserId||e.created_at?e.sender_id===t.$parent.currentUserId&&e.created_at?i("span",{staticClass:"check-items dual"},[e.is_read?i("i",{staticClass:"fa fa-check",class:{"text-blue":e.is_read}}):t._e(),t._v(" "),i("i",{staticClass:"fa fa-check text-blue"})]):t._e():i("span",{staticClass:"check-items"},[i("i",{staticClass:"far fa-clock"})])])])])])}),t._v(" "),t.$parent.isNoticeActive&&!t.$parent.isChatMessagesLoaded?i("li",{staticClass:"messenger-notice"},[i("p",{staticClass:"notice-title"},[t._v("\n          اطلاعات هویتی این کاربر\n          "),t.$parent.isCurrentUserVerified?t._e():i("span",{staticClass:"red-text"},[t._v("مانند اطلاعات هویتی شما")]),t._v("\n          نزد باسکول احراز "),i("span",{staticClass:"red-text"},[t._v(" نشده ")]),t._v(" است.\n        ")]),t._v(" "),i("div",{staticClass:"notice-actions"},[i("button",{on:{click:function(e){t.$parent.setNoticeCookie()}}},[t._v("متوجه شدم")]),t._v(" "),i("router-link",{attrs:{tag:"button",to:{name:"verificationInfo"}}},[i("i",{staticClass:"fa fa-info"}),t._v("\n            اطلاعات بیشتر\n          ")])],1)]):t._e()],2),t._v(" "),t.$parent.isChatMessagesLoaded&&t.$parent.isFirstMessageLoading?i("div",{staticClass:"loading-container"},[t._m(2)]):t._e(),t._v(" "),i("div",{staticClass:"send-message-form"},[i("form",[i("div",{staticClass:"message-input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.msgToSend,expression:"$parent.msgToSend"}],attrs:{type:"text",placeholder:"پیغامی بگذارید "},domProps:{value:t.$parent.msgToSend},on:{input:function(e){e.target.composing||t.$set(t.$parent,"msgToSend",e.target.value)}}})]),t._v(" "),i("div",{staticClass:"button-wrapper"},[i("button",{attrs:{type:"submit"},on:{click:function(e){e.preventDefault(),t.$parent.sendMessage()}}},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"13.347",height:"12.766",viewBox:"0 0 13.347 12.766"}},[i("path",{attrs:{id:"send-message-icon","data-name":"send-message-icon",d:"M2511.158-3909.893l12.347-5.929-12.347-5.837.235,4.51,10.029,1.327-10.029,1.477Z",transform:"translate(-2510.658 3922.159)",fill:"#fff",stroke:"#fff","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1"}})])])])])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"report-button hover-effect",attrs:{type:"button","data-toggle":"collapse",id:"button-collapse-chat-menu",href:"#chat-menu-items",role:"button"}},[e("i",{staticClass:"fa fa-ellipsis-h"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"message-button-wrapper"},[e("button",[e("i",{staticClass:"fa fa-phone-alt"}),this._v("\n                    تماس\n                  ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"image-wrapper"},[e("div",{staticClass:"lds-ring"},[e("div"),this._v(" "),e("div"),this._v(" "),e("div"),this._v(" "),e("div")])])}]}},469:function(t,e,a){var i=[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"red-text"},[this._v("\n        برای دسترسی به خریداران پیشنهادی از این قسمت در منوی سمت راست اقدام\n        کنید\n        "),e("img",{attrs:{src:a(470),alt:""}})])}];t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"main-content col-xs-12",class:{"is-fix-alert":t.isRequiredFixAlert}},[a("div",{staticClass:"col-xs-12 contact-wrapper pull-right col-sm-4 col-lg-3",class:{hidden_element:t.selectedContact}},[a("div",{staticClass:"row"},[a("router-view",{attrs:{name:"messenger-list"}})],1)]),t._v(" "),t.selectedContact?a("div",{staticClass:"col-xs-12 message-wrapper col-sm-8 col-lg-9",class:{hidden_element:!t.selectedContact}},[a("mainChatWrapper")],1):t._e(),t._v(" "),t.selectedContact||0!=t.isCurrentStep?t._e():a("div",{staticClass:"col-xs-12 default-message-wrapper hidden-xs col-sm-8 col-lg-9"},[t.userType?a("div",{staticClass:"default-main-contents seller-buyAd-picture"},[t._m(0)]):a("div",{staticClass:"default-main-contents"},[a("i",{staticClass:"fa fa-user"}),t._v(" "),a("p",[t._v("برای شروع چت لطفا یک مخاطب انتخاب کنید")])])])])},staticRenderFns:i}},470:function(t,e){t.exports="/images/messegs-buy-ads.jpg?afb212ea3048bdd1ad7baffb91a24797"},816:function(t,e,a){var i=a(5)(a(461),a(469),!1,function(t){a(459)},"data-v-f5bd1654",null);t.exports=i.exports}});