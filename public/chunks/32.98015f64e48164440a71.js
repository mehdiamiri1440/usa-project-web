webpackJsonp([32],{620:function(e,t,i){var o=i(621);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);i(4)("71a347f4",o,!0,{})},621:function(e,t,i){(e.exports=i(1)(!1)).push([e.i,".submit-button[data-v-2776c8c4]{background:#ddd;color:#fff;border:none;border-radius:4px;width:100%;font-size:16px;padding:10px 0 9px;-webkit-transition:.3s;transition:.3s;cursor:default}.submit-button.active[data-v-2776c8c4]{background:#00c569;cursor:pointer}.form-contents[data-v-2776c8c4]{line-height:1.618;margin-top:30px;margin-bottom:50px}.form-contents lable[data-v-2776c8c4]{font-size:12px}.input-wrapper[data-v-2776c8c4]{margin:6px auto 4px;position:relative}input[data-v-2776c8c4]{width:100%;border-radius:4px;border:1px solid;color:#bebebe;direction:ltr;-webkit-transition:.3s;transition:.3s;padding:8px 15px 9px 45px}.verify-code-wrapper input[data-v-2776c8c4]{padding:8px 15px 9px;text-align:center}.timer-button[data-v-2776c8c4]{background:none;border:1px solid;color:#00c569;border-radius:4px;padding:3px 10px;margin-bottom:9px;-webkit-transition:.3s;transition:.3s;cursor:pointer}.timer-button[data-v-2776c8c4]:hover{background:#00c569;-webkit-transition:.3s;transition:.3s;color:#fff}.input-wrapper i[data-v-2776c8c4]{display:inline-block;position:absolute;left:15px;font-size:20px;color:#bebebe;top:9px;-webkit-transition:.3s;transition:.3s}input:focus+i[data-v-2776c8c4],input[data-v-2776c8c4]:focus{color:#333}input.active[data-v-2776c8c4]{border-color:#00c569;color:#333}input.active+i[data-v-2776c8c4]{color:#00c569}input.active+i[data-v-2776c8c4],input.active:focus+i[data-v-2776c8c4],input.active[data-v-2776c8c4]:focus{border-color:#00c569}input.error[data-v-2776c8c4]{color:#333;border-color:#e41c38}input.error+i[data-v-2776c8c4]{color:#e41c38}input.error:focus+i[data-v-2776c8c4],input.error[data-v-2776c8c4]:focus{border-color:#e41c38}.error-message[data-v-2776c8c4]{text-align:center;color:#e41c38;font-weight:700;height:25px;margin-bottom:5px;direction:rtl;font-size:12px}.header-section>p[data-v-2776c8c4]{text-align:right;font-size:18px;font-weight:700;color:#777;border-bottom:1px solid #ebebeb;padding-bottom:15px;margin-top:20px}.product-section[data-v-2776c8c4]{margin-top:15px;overflow:hidden}.product-image[data-v-2776c8c4]{width:100px;height:100px;background:#bdc4cc;border-radius:4px;position:relative;overflow:hidden}.product-image img[data-v-2776c8c4]{height:100%;width:auto;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.product-contents[data-v-2776c8c4]{width:calc(100% - 100px)}.product-contents .content[data-v-2776c8c4]{padding:0 15px;line-height:1.618;color:#777}.product-contents .content i[data-v-2776c8c4],.shipping-badge i[data-v-2776c8c4]{margin-left:7px}.shipping-badge[data-v-2776c8c4]{color:#777}.product-title[data-v-2776c8c4]{font-size:16px;font-weight:700}.content.pull-right>p[data-v-2776c8c4]{margin-bottom:15px}.content.pull-right>p>span[data-v-2776c8c4]:last-of-type{color:#333}.prising-section[data-v-2776c8c4]{margin:20px auto}.price-item[data-v-2776c8c4]{color:#777;font-size:20px;font-weight:700;padding-top:11px}.price-item>span[data-v-2776c8c4]{color:#00c569}.change-step>button[data-v-2776c8c4]{margin:0;width:100%;font-size:16px;font-weight:400;line-height:1}.change-step>button i[data-v-2776c8c4]{font-size:26px;line-height:1}.change-step>button span[data-v-2776c8c4]{position:relative;top:-5px;margin-left:10px}@media screen and (max-width:992px){.change-step[data-v-2776c8c4]{margin-top:20px}}@media screen and (max-width:600px){.product-contents[data-v-2776c8c4]{width:100%}.product-image[data-v-2776c8c4]{width:100%;height:300px;margin-bottom:20px}.badged-wrapper[data-v-2776c8c4]{float:right!important;padding:15px;width:100%}.change-step[data-v-2776c8c4]{position:fixed;bottom:0;left:0;right:0;z-index:1;background:#fff;padding:15px;-webkit-box-shadow:0 3px 15px rgba(0,0,0,.2);box-shadow:0 3px 15px rgba(0,0,0,.2)}}",""])},622:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{currentStep:0,errors:{verification_code:[],phoneNumber:[]},step1:{phoneNumber:"",sendCode:!0},step2:{reSendCode:!1,timeCounterDown:120,showTimer:!1,now:null,verification:{verifycode1:"",verifycode2:"",verifycode3:"",verifycode4:"",currentCode:""}},verifyCodeBtnLoading:!1}},methods:{init:function(){},send_verification_code:function(){this.verifyCodeBtnLoading=!0,this.step2.reSendCode=!1,this.step1.sendCode=!1;var e=this;this.step2.now=(new Date).getTime(),this.step2.showTimer=!0,this.step2.timeCounterDown=119,axios.post("/send_verification_code",{phone:this.toLatinNumbers(this.step1.phoneNumber)}).then(function(t){e.verifyCodeBtnLoading=!1,e.currentStep=1,e.step1.sendCode=!0,e.step2.verification.currentCode="",e.errors.verification_code=[],setTimeout(function(){e.step2.reSendCode=!0},12e4),e.registerComponentStatistics("Register","send-verification-code","verification-code-sent-to-user")}).catch(function(t){e.verifyCodeBtnLoading=!1,e.errors.phoneNumber=t.response.data.errors.phone,e.step1.sendCode=!0,e.registerComponentStatistics("Register-Error","phone-number-verification","error:"+e.errors.phoneNumber[0])})},verify_code:function(){var e=this;this.sumCodeNumbers(),axios.post("/verify_code",{verification_code:this.toLatinNumbers(this.step2.verification.currentCode),phone:this.toLatinNumbers(this.step1.phoneNumber)}).then(function(t){e.verifyCodeBtnLoading=!1,!0===t.data.status?t.data.redirected?window.location.href="/login":this.$router.push({name:"registerInformation"}):!1===t.data.status&&(e.errors.verification_code=[],e.errors.verification_code.push("کد وارد شده صحیح نیست یا منقضی شده است"),e.registerComponentStatistics("Register-Error","verification-code-wrong","error:"+e.errors.verification_code[0]))}).catch(function(t){e.verifyCodeBtnLoading=!1,e.errors.verification_code=[],e.errors.verification_code.push("وارد کردن کد الزامی است."),e.registerComponentStatistics("Register-Error","verification-code-empty","error:"+e.errors.verification_code[0])})},isOsIOS:function(){var e=window.navigator.userAgent.toLowerCase();/safari/.test(e);return/iphone|ipod|ipad/.test(e)},toLatinNumbers:function(e){return null==e?null:e.toString().replace(/[\u0660-\u0669]/g,function(e){return e.charCodeAt(0)-1632}).replace(/[\u06f0-\u06f9]/g,function(e){return e.charCodeAt(0)-1776})},registerComponentStatistics:function(e,t,i){gtag("event",t,{event_category:e,event_label:i})},reSendCode:function(){this.currentStep=0},sumCodeNumbers:function(){this.errors.verification_code=[],this.step2.verification.currentCode=this.step2.verification.verifycode1+this.step2.verification.verifycode2+this.step2.verification.verifycode3+this.step2.verification.verifycode4},tabTopNext:function(e){$(e).focus()},keymonitor:function(e,t){var i=this.toLatinNumbers(e.key);(e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105||i>=0&&i<=9)&&t<=4&&this.tabTopNext("#verify-code-"+t)},updateCounterDownTimer:function(e){1!==e?this.step2.timeCounterDown=e:this.step2.showTimer=!1}},mounted:function(){this.init(),this.isOsIOS()&&$("#phone-number").attr("type","text")},watch:{"step1.phoneNumber":function(e){this.errors.phoneNumber[0]="",this.step1.phoneNumber.length>=11&&(this.step1.phoneNumber=this.step1.phoneNumber.substring(0,11))},"step2.verification.verifycode1":function(e){this.sumCodeNumbers(),this.step2.verification.verifycode1=this.step2.verification.verifycode1.substring(0,1)},"step2.verification.verifycode2":function(e){this.sumCodeNumbers(),this.step2.verification.verifycode2=this.step2.verification.verifycode2.substring(0,1)},"step2.verification.verifycode3":function(e){this.sumCodeNumbers(),this.step2.verification.verifycode3=this.step2.verification.verifycode3.substring(0,1)},"step2.verification.verifycode4":function(e){this.sumCodeNumbers(),this.step2.verification.verifycode4=this.step2.verification.verifycode4.substring(0,1)},"step2.timeCounterDown":function(){var e=this,t=(new Date).getTime()-this.step2.now,i=119-Math.floor(t%12e4/1e3)+1;setTimeout(function(){e.updateCounterDownTimer(i)},1e3)}}}},623:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"confirm-product-contents"},[i("section",{staticClass:"product-section-wrapper"},[e._m(0),e._v(" "),0==this.currentStep?i("div",{staticClass:"form-contents text-right col-md-4 col-md-offset-4 col-xs-12"},[i("div",{staticClass:"row"},[i("label",{attrs:{for:"phone-number"}},[e._v("لطفا شماره موبایل خود را وارد کنید")]),e._v(" "),i("div",{staticClass:"input-wrapper phone-number-wrapper"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.step1.phoneNumber,expression:"step1.phoneNumber"}],staticClass:"dire",class:{error:e.errors.phoneNumber[0],active:this.step1.phoneNumber.length>=11},attrs:{id:"phone-number",type:"tel",placeholder:"شماره موبایل",pattern:"[0-9]*"},domProps:{value:e.step1.phoneNumber},on:{input:function(t){t.target.composing||e.$set(e.step1,"phoneNumber",t.target.value)}}}),e._v(" "),i("i",{staticClass:"fa fa-phone-square-alt"})]),e._v(" "),i("span",{staticClass:"small-description"},[e._v("پس از وارد کردن شماره موبایل ما یک کد برای شما ارسال میکنیم تا از صحت شماره وارد شده اطمینان حاصل کنیم")]),e._v(" "),i("p",{staticClass:"error-message"},[e.errors.phoneNumber?i("span",{domProps:{textContent:e._s(e.errors.phoneNumber[0])}}):e._e()]),e._v(" "),i("button",{staticClass:"submit-button disabled",class:{active:this.step1.phoneNumber.length>=11},on:{click:function(t){t.preventDefault(),e.send_verification_code()}}},[e.verifyCodeBtnLoading?i("span",{staticClass:"fas fa-circle-notch fa-spin"}):e._e(),e._v("\n          ارسال کد تایید\n        ")])])]):e._e(),e._v(" "),1==this.currentStep?i("div",{staticClass:"form-contents text-right col-md-4 col-md-offset-4 col-xs-12"},[i("div",{staticClass:"row"},[i("label",{attrs:{for:"verify-code"}},[e._v("\n          کد ارسال شده به شماره ی\n          "),i("span",{staticClass:"green-text",domProps:{textContent:e._s(e.step1.phoneNumber)}}),e._v("\n          را وارد کنید\n        ")]),e._v(" "),i("div",{staticClass:"input-wrapper verify-code-wrapper"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-xs-3"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.step2.verification.verifycode1,expression:"step2.verification.verifycode1"}],staticClass:"dire",class:{error:this.errors.verification_code[0],active:e.step2.verification.verifycode1.length},attrs:{id:"verify-code-1",type:"number",placeholder:"_",max:"9",onfocus:"this.select();",pattern:"[0-9]*"},domProps:{value:e.step2.verification.verifycode1},on:{keyup:function(t){e.keymonitor(t,2)},input:function(t){t.target.composing||e.$set(e.step2.verification,"verifycode1",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"col-xs-3"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.step2.verification.verifycode2,expression:"step2.verification.verifycode2"}],staticClass:"dire",class:{error:this.errors.verification_code[0],active:e.step2.verification.verifycode2.length},attrs:{id:"verify-code-2",type:"number",placeholder:"_",max:"9",onfocus:"this.select();",pattern:"[0-9]*"},domProps:{value:e.step2.verification.verifycode2},on:{keyup:function(t){e.keymonitor(t,3)},input:function(t){t.target.composing||e.$set(e.step2.verification,"verifycode2",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"col-xs-3"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.step2.verification.verifycode3,expression:"step2.verification.verifycode3"}],staticClass:"dire",class:{error:this.errors.verification_code[0],active:e.step2.verification.verifycode3.length},attrs:{id:"verify-code-3",type:"number",placeholder:"_",max:"9",onfocus:"this.select();",pattern:"[0-9]*"},domProps:{value:e.step2.verification.verifycode3},on:{keyup:function(t){e.keymonitor(t,4)},input:function(t){t.target.composing||e.$set(e.step2.verification,"verifycode3",t.target.value)}}})]),e._v(" "),i("div",{staticClass:"col-xs-3"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.step2.verification.verifycode4,expression:"step2.verification.verifycode4"}],staticClass:"dire",class:{error:this.errors.verification_code[0],active:e.step2.verification.verifycode4.length},attrs:{id:"verify-code-4",type:"number",placeholder:"_",max:"9",onfocus:"this.select();",pattern:"[0-9]*"},domProps:{value:e.step2.verification.verifycode4},on:{keyup:function(t){e.keymonitor(t,5)},input:function(t){t.target.composing||e.$set(e.step2.verification,"verifycode4",t.target.value)}}})])])]),e._v(" "),i("p",{staticClass:"error-message"},[this.errors.verification_code[0]?i("span",{domProps:{textContent:e._s(this.errors.verification_code[0])}}):e._e()]),e._v(" "),e.step2.showTimer?i("div",{staticClass:"timer-wrapper margin-15-auto text-center"},[i("span",[e._v("مدت اعتبار کد")]),e._v(" "),i("span",{staticClass:"green-text",domProps:{textContent:e._s(e.step2.timeCounterDown)}}),e._v(" "),i("span",[e._v("ثانیه")])]):i("div",{staticClass:"timer-wrapper margin-15-auto text-center"},[i("button",{staticClass:"timer-button",attrs:{type:"button",disabled:!1===e.step2.reSendCode,value:e.step2.timeCounterDown},on:{click:function(t){e.currentStep}}},[e._v("ارسال مجدد کد فعال سازی")])]),e._v(" "),i("button",{staticClass:"submit-button disabled",class:{active:4==e.step2.verification.currentCode.length},on:{click:function(t){t.preventDefault(),e.verify_code()}}},[e.verifyCodeBtnLoading?i("span",{staticClass:"fas fa-circle-notch fa-spin"}):e._e(),e._v("\n          بررسی کد\n        ")])])]):e._e()])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header-section"},[t("p",[this._v("اطلاعات محصول")])])}]}},835:function(e,t,i){var o=i(5)(i(622),i(623),!1,function(e){i(620)},"data-v-2776c8c4",null);e.exports=o.exports}});